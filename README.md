# pydawn

[ctypeslib](https://github.com/trolldbois/ctypeslib) based python bindings to the [Dawn](https://dawn.googlesource.com/dawn) WebGPU engine. Besides the autogenerated bindings, a small `utils` interface (similar to [wgpu-py](https://github.com/pygfx/wgpu-py)) is provided to make it easier to run compute.

## How to use

```python
from pydawn import utils, webgpu

if __name__ == "__main__":
    pd_utils = utils.PyDawnUtils()

    # Creating an adapter
    adapter = pd_utils.request_adapter_sync(power_preference=webgpu.WGPUPowerPreference_HighPerformance)

    # Creating a device with shader f16 extension
    dev = pd_utils.request_device_sync(adapter, [webgpu.WGPUFeatureName_ShaderF16])
```

For more details see `examples/compute_noop.py`

## Generating bindings

1. [Build dawn](https://dawn.googlesource.com/dawn/+/HEAD/docs/quickstart-cmake.md) or use the pre-built lib in the repo
2. `pip install ctypeslib2`
3. `clang2py -l libwebgpu_dawn.dylib webgpu.h --nm nm_patch.py -o webgpu.py`

## Examples

`PYTHONPATH="." python3 examples/compute_noop.py`

## Supported platforms

- [x] MacOS
- [ ] Ubuntu
- [ ] Windows

## License

BSD 3-Clause, please see [LICENSE](https://dawn.googlesource.com/dawn/+/HEAD/LICENSE)